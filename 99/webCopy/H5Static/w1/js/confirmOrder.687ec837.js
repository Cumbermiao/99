(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["confirmOrder"],{"057f":function(e,t,r){var i=r("fc6a"),n=r("241c").f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return n(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==a.call(e)?c(e):n(i(e))}},"0cb2":function(e,t,r){var i=r("7b0b"),n=Math.floor,a="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,o,d,u){var f=r+e.length,l=o.length,p=c;return void 0!==d&&(d=i(d),p=s),a.call(u,p,(function(i,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(f);case"<":s=d[a.slice(1,-1)];break;default:var c=+a;if(0===c)return i;if(c>l){var u=n(c/10);return 0===u?i:u<=l?void 0===o[u-1]?a.charAt(1):o[u-1]+a.charAt(1):i}s=o[c-1]}return void 0===s?"":s}))}},"0e0b":function(e,t){function r(e,t){null!=t&&void 0!=t||(t=1500);var r=null;return function(){var i=+new Date;(i-r>t||!r)&&(e.apply(this,arguments),r=i)}}e.exports={throttle:r}},"159b":function(e,t,r){var i=r("da84"),n=r("fdbc"),a=r("17c2"),s=r("9112");for(var c in n){var o=i[c],d=o&&o.prototype;if(d&&d.forEach!==a)try{s(d,"forEach",a)}catch(u){d.forEach=a}}},"17c2":function(e,t,r){"use strict";var i=r("b727").forEach,n=r("a640"),a=n("forEach");e.exports=a?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"4de4":function(e,t,r){"use strict";var i=r("23e7"),n=r("b727").filter,a=r("1dde"),s=a("filter");i({target:"Array",proto:!0,forced:!s},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},5319:function(e,t,r){"use strict";var i=r("d784"),n=r("d039"),a=r("825a"),s=r("50c4"),c=r("a691"),o=r("1d80"),d=r("8aa5"),u=r("0cb2"),f=r("14c3"),l=r("b622"),p=l("replace"),h=Math.max,b=Math.min,m=function(e){return void 0===e?e:String(e)},v=function(){return"$0"==="a".replace(/./,"$0")}(),g=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),y=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));i("replace",(function(e,t,r){var i=g?"$":"$0";return[function(e,r){var i=o(this),n=void 0==e?void 0:e[p];return void 0!==n?n.call(e,i,r):t.call(String(i),e,r)},function(e,n){if("string"===typeof n&&-1===n.indexOf(i)&&-1===n.indexOf("$<")){var o=r(t,this,e,n);if(o.done)return o.value}var l=a(this),p=String(e),v="function"===typeof n;v||(n=String(n));var g=l.global;if(g){var y=l.unicode;l.lastIndex=0}var O=[];while(1){var j=f(l,p);if(null===j)break;if(O.push(j),!g)break;var w=String(j[0]);""===w&&(l.lastIndex=d(p,s(l.lastIndex),y))}for(var _="",S=0,I=0;I<O.length;I++){j=O[I];for(var D=String(j[0]),k=h(b(c(j.index),p.length),0),A=[],x=1;x<j.length;x++)A.push(m(j[x]));var P=j.groups;if(v){var C=[D].concat(A,k,p);void 0!==P&&C.push(P);var F=String(n.apply(void 0,C))}else F=u(D,p,k,A,P,n);k>=S&&(_+=p.slice(S,k)+F,S=k+D.length)}return _+p.slice(S)}]}),!y||!v||g)},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"746f":function(e,t,r){var i=r("428f"),n=r("5135"),a=r("e538"),s=r("9bf2").f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});n(t,e)||s(t,e,{value:a.f(e)})}},7564:function(e,t,r){"use strict";r("c0d9")},a4d3:function(e,t,r){"use strict";var i=r("23e7"),n=r("da84"),a=r("d066"),s=r("c430"),c=r("83ab"),o=r("4930"),d=r("fdbf"),u=r("d039"),f=r("5135"),l=r("e8b5"),p=r("861d"),h=r("825a"),b=r("7b0b"),m=r("fc6a"),v=r("c04e"),g=r("5c6c"),y=r("7c73"),O=r("df75"),j=r("241c"),w=r("057f"),_=r("7418"),S=r("06cf"),I=r("9bf2"),D=r("d1e7"),k=r("9112"),A=r("6eeb"),x=r("5692"),P=r("f772"),C=r("d012"),F=r("90e3"),$=r("b622"),N=r("e538"),T=r("746f"),z=r("d44e"),E=r("69f3"),R=r("b727").forEach,M=P("hidden"),K="Symbol",J="prototype",L=$("toPrimitive"),G=E.set,H=E.getterFor(K),X=Object[J],B=n.Symbol,Q=a("JSON","stringify"),q=S.f,U=I.f,W=w.f,V=D.f,Y=x("symbols"),Z=x("op-symbols"),ee=x("string-to-symbol-registry"),te=x("symbol-to-string-registry"),re=x("wks"),ie=n.QObject,ne=!ie||!ie[J]||!ie[J].findChild,ae=c&&u((function(){return 7!=y(U({},"a",{get:function(){return U(this,"a",{value:7}).a}})).a}))?function(e,t,r){var i=q(X,t);i&&delete X[t],U(e,t,r),i&&e!==X&&U(X,t,i)}:U,se=function(e,t){var r=Y[e]=y(B[J]);return G(r,{type:K,tag:e,description:t}),c||(r.description=t),r},ce=d?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof B},oe=function(e,t,r){e===X&&oe(Z,t,r),h(e);var i=v(t,!0);return h(r),f(Y,i)?(r.enumerable?(f(e,M)&&e[M][i]&&(e[M][i]=!1),r=y(r,{enumerable:g(0,!1)})):(f(e,M)||U(e,M,g(1,{})),e[M][i]=!0),ae(e,i,r)):U(e,i,r)},de=function(e,t){h(e);var r=m(t),i=O(r).concat(he(r));return R(i,(function(t){c&&!fe.call(r,t)||oe(e,t,r[t])})),e},ue=function(e,t){return void 0===t?y(e):de(y(e),t)},fe=function(e){var t=v(e,!0),r=V.call(this,t);return!(this===X&&f(Y,t)&&!f(Z,t))&&(!(r||!f(this,t)||!f(Y,t)||f(this,M)&&this[M][t])||r)},le=function(e,t){var r=m(e),i=v(t,!0);if(r!==X||!f(Y,i)||f(Z,i)){var n=q(r,i);return!n||!f(Y,i)||f(r,M)&&r[M][i]||(n.enumerable=!0),n}},pe=function(e){var t=W(m(e)),r=[];return R(t,(function(e){f(Y,e)||f(C,e)||r.push(e)})),r},he=function(e){var t=e===X,r=W(t?Z:m(e)),i=[];return R(r,(function(e){!f(Y,e)||t&&!f(X,e)||i.push(Y[e])})),i};if(o||(B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=F(e),r=function(e){this===X&&r.call(Z,e),f(this,M)&&f(this[M],t)&&(this[M][t]=!1),ae(this,t,g(1,e))};return c&&ne&&ae(X,t,{configurable:!0,set:r}),se(t,e)},A(B[J],"toString",(function(){return H(this).tag})),A(B,"withoutSetter",(function(e){return se(F(e),e)})),D.f=fe,I.f=oe,S.f=le,j.f=w.f=pe,_.f=he,N.f=function(e){return se($(e),e)},c&&(U(B[J],"description",{configurable:!0,get:function(){return H(this).description}}),s||A(X,"propertyIsEnumerable",fe,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!o,sham:!o},{Symbol:B}),R(O(re),(function(e){T(e)})),i({target:K,stat:!0,forced:!o},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var r=B(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!ce(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),i({target:"Object",stat:!0,forced:!o,sham:!c},{create:ue,defineProperty:oe,defineProperties:de,getOwnPropertyDescriptor:le}),i({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:pe,getOwnPropertySymbols:he}),i({target:"Object",stat:!0,forced:u((function(){_.f(1)}))},{getOwnPropertySymbols:function(e){return _.f(b(e))}}),Q){var be=!o||u((function(){var e=B();return"[null]"!=Q([e])||"{}"!=Q({a:e})||"{}"!=Q(Object(e))}));i({target:"JSON",stat:!0,forced:be},{stringify:function(e,t,r){var i,n=[e],a=1;while(arguments.length>a)n.push(arguments[a++]);if(i=t,(p(t)||void 0!==e)&&!ce(e))return l(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!ce(t))return t}),n[1]=t,Q.apply(null,n)}})}B[J][L]||k(B[J],L,B[J].valueOf),z(B,K),C[M]=!0},c0d9:function(e,t,r){},dbb4:function(e,t,r){var i=r("23e7"),n=r("83ab"),a=r("56ef"),s=r("fc6a"),c=r("06cf"),o=r("8418");i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,i=s(e),n=c.f,d=a(i),u={},f=0;while(d.length>f)r=n(i,t=d[f++]),void 0!==r&&o(u,t,r);return u}})},e439:function(e,t,r){var i=r("23e7"),n=r("d039"),a=r("fc6a"),s=r("06cf").f,c=r("83ab"),o=n((function(){s(1)})),d=!c||o;i({target:"Object",stat:!0,forced:d,sham:!c},{getOwnPropertyDescriptor:function(e,t){return s(a(e),t)}})},e538:function(e,t,r){var i=r("b622");t.f=i},f934:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"confirmOrderBox"},[e.addressKey?r("div",{staticClass:"confirmOrderAddress",on:{click:e.urlHrefDizhi}},[e.IsDefaultMy?r("div",{staticClass:"confirmOrderAddressFl",staticStyle:{width:"100%"},on:{click:e.urlHrefDizhi}},[e._v(" 选择地址 ")]):r("div",{staticClass:"confirmOrderAddressFl"},[r("div",[r("div",{staticStyle:{"margin-bottom":".9375rem"}},[r("span",{staticStyle:{"margin-right":"2.5rem"}},[e._v(e._s(e.addressIs?e.addressIs.Receiver:""))]),r("span",[e._v(e._s(e.addressIs?e.addressIs.Mobile:""))])]),r("div",{staticStyle:{"font-size":".875rem"}},["null"!==e.addressIs.Province?r("span",[e._v(e._s(e.addressIs.Province))]):e._e(),"null"!==e.addressIs.City?r("span",[e._v(e._s(e.addressIs.City))]):e._e(),"null"!==e.addressIs.County?r("span",[e._v(e._s(e.addressIs.County))]):e._e(),"null"!==e.addressIs.County?r("span",[e._v(e._s(e.addressIs.County))]):e._e(),"null"!==e.addressIs.Detail?r("span",[e._v(e._s(e.addressIs.Detail))]):e._e()])])]),r("div",{staticClass:"confirmOrderAddressRl",on:{click:e.urlHrefDizhi}},[r("img",{staticStyle:{width:".8125rem"},attrs:{src:"http://static.jiujiupingou.com/Static/img/bg16.png",mode:"widthFix"}})])]):e._e(),r("div",{staticClass:"commodity"},[r("div",{staticClass:"commodityFl"},[r("img",{staticStyle:{width:"5.46875rem"},attrs:{src:e.orderDetailsObj.mainImage,mode:"widthFix"}})]),r("div",{staticClass:"commodityRl"},[r("div",{staticClass:"title1"},[e._v(" "+e._s(e.orderDetailsObj.title)+" ")]),r("div",{staticClass:"title2"},[e._v(" "+e._s(e.orderDetailsObj.subTitle)+" ")]),r("div",{staticClass:"jiage"},[e._v(" ￥"+e._s(e.orderDetailsObj.price)+"/ 件 ")])])]),e._m(0),e.kuaidiKey?r("div",{staticStyle:{display:"flex","justify-content":"space-between",padding:".9375rem","font-size":".875rem",background:"#FFFFFF","margin-top":".625rem"}},[r("div",{},[e._v(" 配送方式 ")]),r("div",{},[e._v(" 快递 ")])]):e._e(),e.orderDetailsObj.energyTicketNumber>0?r("div",{staticStyle:{display:"flex","justify-content":"space-between",padding:".9375rem","font-size":".875rem",background:"#FFFFFF","margin-top":".625rem"}},[r("div",{},[e._v(" 使用【"+e._s(e.orderDetailsObj.energyTicketNumber)+"】张能量券抵扣 ")]),r("div",{staticStyle:{width:"1.25rem",height:"1.25rem"}},[e.choiceAgreementNo?r("img",{staticStyle:{width:"1.125rem","margin-bottom":"-0.25rem"},attrs:{src:e.imgSrc("fangkuang.png"),mode:"widthFix"},on:{click:e.tabsChoiceNo}}):e._e(),e.choiceAgreement?r("img",{staticStyle:{width:"1.125rem","margin-bottom":"-0.25rem"},attrs:{src:e.imgSrc("xuanzhong.png"),mode:"widthFix"},on:{click:e.tabsChoice}}):e._e()])]):e._e(),e.orderDetailsObj.energyTicketNumber>0?r("div",{staticStyle:{"font-size":".875rem"}},[e._v(" 注意：选中能量券抵扣后，提交订单时将会先扣券，订单关闭后退回。 ")]):e._e(),r("div",{staticClass:"submitpay"},[r("div",[r("span",[e._v("实付款:")]),e.choiceAgreement?e._e():r("span",{staticStyle:{color:"red","margin-left":".625rem"}},[e._v("￥"+e._s(e.orderDetailsObj.price))]),e.choiceAgreement?r("span",{staticStyle:{color:"red","margin-left":".625rem"},attrs:{s:""}},[e._v(e._s(e.orderDetailsObj.energyTicketPrice))]):e._e()]),r("span",{staticClass:"btnPaly",staticStyle:{"margin-left":"3.125rem"},on:{click:e.goPlay}},[e._v("去支付")])])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{display:"flex","justify-content":"space-between",padding:".9375rem","font-size":".875rem",background:"#FFFFFF","margin-top":".625rem"}},[r("div",{},[e._v(" 购买数量 ")]),r("div",{},[e._v(" 1 ")])])}],a=r("1da1"),s=r("5530"),c=(r("96cf"),r("ac1f"),r("5319"),r("99af"),r("da71")),o=r("c97a"),d=r("2f62"),u=r("0e0b"),f=r.n(u),l=r("d399"),p={data:function(){return{num:1,defaultAddressRadio:!1,choiceAgreementNo:!0,choiceAgreement:!1,addressList:[],IsDefaultObj:{},IsDefaultMy:!0,orderDetailsObj:{},priceArea:{},pid:null,checkedXuanze:"1",checkBoxText:!1,goPlayDisable:!1,addressKey:!0,inputKey:!0,kuaidiKey:!0,type:""}},computed:Object(s["a"])(Object(s["a"])({},Object(d["c"])("address",["addressIs","addressXuanze"])),{},{imgSrc:function(){return function(e){return c["d"]+e}}}),created:function(){var e=this.$route.query;if("card"===e.type){var t=JSON.parse(e.json);this.type=e.type,this.addressKey=!1,this.inputKey=!1,this.kuaidiKey=!1,this.orderDetailsObj={cardTypeId:t.cardTypeId,mainImage:c["d"]+"99logo.png",title:t.typeName,subTitle:"",price:t.sellPrice}}else this.getOrderDetails(e.pid),this.pid=e.pid,this.addressXuanze?this.IsDefaultMy=!1:this.getAddress()},methods:Object(s["a"])(Object(s["a"])({setNum:function(e){this.num=e.detail.value.replace(/[^\d]/g,"")}},Object(d["b"])("address",["setAddressIs"])),{},{tabsChoiceNo:function(){this.choiceAgreementNo=!1,this.choiceAgreement=!0},tabsChoice:function(){this.choiceAgreementNo=!0,this.choiceAgreement=!1},defaultAddressRadioClick:function(){this.defaultAddressRadio?this.defaultAddressRadio=!1:this.defaultAddressRadio=!0},cheClick:function(){},urlHrefDizhi:function(){this.$router.push("/confirmOrder/xuanzedizhi?pid="+this.pid+"&addressId="+this.addressIs.AddressId)},getOrderDetails:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.post("/api/v1/Product/Get",{pid:e},{custom:{url:"99",nonce:Object(o["a"])(),timestamp:Object(o["b"])(),loading:"加载"}});case 2:i=r.sent,n=i.data,1===n.code&&(l["a"].clear(),t.orderDetailsObj=n.data,t.priceArea=n.data.priceArea);case 5:case"end":return r.stop()}}),r)})))()},getAddress:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/api/v1/address/getlist",{},{custom:{url:"99",nonce:Object(o["a"])(),timestamp:Object(o["b"])()}});case 2:if(r=t.sent,r&&(i=r.data,1===i.code)){for(e.addressList=i.data,n=0;n<e.addressList.length;n++)e.addressList[n].IsDefault&&(e.IsDefaultObj=e.addressList[n],e.IsDefaultMy=!1);e.setAddressIs(e.IsDefaultObj)}case 4:case"end":return t.stop()}}),t)})))()},goPlay:f.a.throttle(Object(a["a"])(regeneratorRuntime.mark((function e(){var t,r,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("card"===this.type){e.next=18;break}if(t=this,!t.IsDefaultMy){e.next=5;break}return Object(l["a"])("请选择收货地址"),e.abrupt("return");case 5:if(!(t.orderDetailsObj.stockQuantity<=0)){e.next=8;break}return Object(l["a"])("库存不足"),e.abrupt("return");case 8:return l["a"].loading({duration:0,message:"加载中...",forbidClick:!0}),r=null,r=t.choiceAgreement?t.orderDetailsObj.energyTicketPrice:t.orderDetailsObj.price,e.next=13,t.$http.post("/api/v1/MyOrder/AddProductOrder",{ProductId:t.pid,AddressId:t.addressIs.AddressId,UseTicket:t.choiceAgreement,Amount:1,IsManyPGPurchase:0},{custom:{url:"99",nonce:Object(o["a"])(),timestamp:Object(o["b"])()}});case 13:i=e.sent,n=i.data,1===n.code&&(l["a"].clear(),this.$router.push("/confirmOrder/GoPay?orderId="+n.data.orderId+"&shifukuan="+r+"&createTime="+n.data.createTime)),e.next=19;break;case 18:this.$router.push("/confirmOrder/GoPay?shifukuan=".concat(this.num*this.orderDetailsObj.price,"&type=card&num=").concat(this.num,"&cardTypeId=").concat(this.orderDetailsObj.cardTypeId));case 19:case"end":return e.stop()}}),e,this)}))),3e3)})},h=p,b=(r("7564"),r("2877")),m=Object(b["a"])(h,i,n,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=confirmOrder.687ec837.js.map