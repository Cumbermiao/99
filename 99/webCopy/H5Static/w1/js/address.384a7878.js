(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["address"],{"1a23":function(e,t,s){"use strict";var a=s("d282"),i=s("ea8e"),d={size:[Number,String],value:null,loading:Boolean,disabled:Boolean,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1}},n=s("78eb"),r=s("543e"),l=Object(a["a"])("switch"),o=l[0],c=l[1];t["a"]=o({mixins:[n["a"]],props:d,computed:{checked:function(){return this.value===this.activeValue},style:function(){return{fontSize:Object(i["a"])(this.size),backgroundColor:this.checked?this.activeColor:this.inactiveColor}}},methods:{onClick:function(e){if(this.$emit("click",e),!this.disabled&&!this.loading){var t=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",t),this.$emit("change",t)}},genLoading:function(){var e=this.$createElement;if(this.loading){var t=this.checked?this.activeColor:this.inactiveColor;return e(r["a"],{class:c("loading"),attrs:{color:t}})}}},render:function(){var e=arguments[0],t=this.checked,s=this.loading,a=this.disabled;return e("div",{class:c({on:t,loading:s,disabled:a}),attrs:{role:"switch","aria-checked":String(t)},style:this.style,on:{click:this.onClick}},[e("div",{class:c("node")},[this.genLoading()])])}})},5064:function(e,t,s){},"5a3f":function(e,t,s){"use strict";s("5064")},"78eb":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a={inject:{vanField:{default:null}},watch:{value:function(){var e=this.vanField;e&&(e.resetValidation(),e.validateWithTrigger("onChange"))}},created:function(){var e=this.vanField;e&&!e.children&&(e.children=this)}}},d2dd:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container999"},[s("div",{staticClass:"line"},[s("div",{staticClass:"lineLeft"},[e._v("收件人")]),s("div",{staticClass:"lineRight"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input",attrs:{"placeholder-class":"plaClass",placeholder:"请输入姓名"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),s("div",{staticClass:"line"},[s("div",{staticClass:"lineLeft"},[e._v("手机号码")]),s("div",{staticClass:"lineRight"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"input",attrs:{type:"number","placeholder-class":"plaClass",placeholder:"请输入手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})])]),s("div",{staticClass:"line"},[s("div",{staticClass:"lineLeft"},[e._v("地址")]),s("div",{staticClass:"lineRight"},[""===e.lotusAddressData.provinceName?s("div",{staticStyle:{color:"#dbdbdb",width:"100%"},on:{click:e.openPicker}},[e._v(" 请选择地址 ")]):s("div",{on:{click:e.openPicker}},[e._v(" "+e._s(e.lotusAddressData.provinceName)+", "+e._s(e.lotusAddressData.cityName)+", "+e._s(e.lotusAddressData.townName)+" ")]),s("lotus-address",{attrs:{lotusAddressData:e.lotusAddressData},on:{choseVal:e.choseValue}}),s("div",{staticClass:"tips tri",on:{click:e.openPicker}})],1)]),s("div",{staticClass:"line textarea"},[s("div",{staticClass:"lineLeft"},[e._v("详细地址")]),s("div",{staticClass:"lineRight"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.detailsAddress,expression:"detailsAddress"}],staticClass:"input textareaInput",attrs:{maxlength:"64","data-name":"remarks","placeholder-class":"plaClass",placeholder:"请输入详细地址"},domProps:{value:e.detailsAddress},on:{input:[function(t){t.target.composing||(e.detailsAddress=t.target.value)},e.change]}})]),s("div",{staticClass:"lineLeft",staticStyle:{color:"#EEEEEE"}},[e._v(" "+e._s(e.inputNumberAddasd)+"/64 ")])]),s("div",{staticClass:"line"},[s("div",{staticClass:"lineLeft"},[e._v("标签")]),e._l(e.defaultAddress,(function(t,a){return s("div",{key:a,staticClass:"lineRight",on:{click:function(s){return e.checkedItem(a,t)}}},[s("div",{class:{active:a==e.isActive},attrs:{id:"myStyle"}},[e._v(" "+e._s(t)+" ")])])}))],2),s("div",{staticClass:"line"},[s("div",{staticClass:"lineLeft",staticStyle:{width:"30%"}},[e._v("设置为默认地址")]),s("div",{staticClass:"lineRight"},[s("v-switch",{staticStyle:{transform:"scale(0.7)",position:"absolute",right:"0"},attrs:{"active-color":"#1BC31F"},model:{value:e.defaultAddressRadio,callback:function(t){e.defaultAddressRadio=t},expression:"defaultAddressRadio"}})],1)]),s("div",{staticClass:"buttonBox",on:{click:e.submit}},[e._v(" 保存地址 ")])])},i=[],d=s("1da1"),n=(s("96cf"),s("a9e3"),s("b0c0"),s("99af"),s("0e0b")),r=s.n(n),l=s("fff8"),o=s("1a23"),c=s("d399"),u=s("c97a"),h=s("43db"),v={components:{"lotus-address":l["a"],vSwitch:o["a"]},data:function(){return{defaultAddress:["家","公司","学校","其他"],defaultAddressTitle:"",isActive:null,lotusAddressData:{visible:!1,provinceName:"",cityName:"",townName:""},inputNumberAddasd:0,detailsAddress:"",name:"",phone:"",defaultAddressRadio:!1,addressDio:!1,addressId:void 0,pid:""}},watch:{phone:function(e){var t=e+"";t.length>11?this.phone=Number(t.substring(0,11)):this.phone="0"===t?null:Number(t)},detailsAddress:function(e){this.inputNumberAddasd=e.length}},created:function(){var e=this.$route.query;this.pid=e.pid,e.id&&(this.addressDio=!0,this.addressId=e.id,this.getAddressEdit(e.id))},methods:{checkedItem:function(e,t){this.isActive=e,this.defaultAddressTitle=t},change:function(){this.inputNumberAddasd=this.detailsAddress.length},getAddressEdit:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,i,d,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a="/api/v1/Address/Get",s.next=3,t.$http.post(a,{id:e},{custom:{url:"99",nonce:Object(u["a"])(),timestamp:Object(u["b"])(),loading:"加载"}});case 3:if(i=s.sent,d=i.data,1===d.code)for(c["a"].clear(),t.name=d.data.Receiver,t.phone=d.data.Mobile,t.lotusAddressData.provinceName=d.data.Province,t.lotusAddressData.cityName=d.data.City,t.lotusAddressData.townName=d.data.County,t.detailsAddress=d.data.Detail,t.defaultAddressRadio=d.data.IsDefault,t.defaultAddressTitle=d.data.Tag,n=0;n<t.defaultAddress.length;n++)d.data.Tag===t.defaultAddress[n]&&(t.isActive=n);case 6:case"end":return s.stop()}}),s)})))()},openPicker:function(){this.lotusAddressData.visible=!0,this.addressDio||(this.lotusAddressData.provinceName="",this.lotusAddressData.cityName="",this.lotusAddressData.townName="")},choseValue:function(e){this.lotusAddressData.visible=e.visible,e.isChose&&(this.lotusAddressData.provinceName=e.province,this.lotusAddressData.cityName=e.city,this.lotusAddressData.townName=e.town,this.region="".concat(e.province," ").concat(e.city," ").concat(e.town))},submit:r.a.throttle(Object(d["a"])(regeneratorRuntime.mark((function e(){var t,s,a,i,d,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,s=[{name:"phone",checkType:"phone",checkRule:"",errorMsg:"请输入正确的手机号"}],a=h.check({phone:t.phone},s),""!==t.name){e.next=6;break}return Object(c["a"])("请输入收件人姓名"),e.abrupt("return");case 6:if(a){e.next=9;break}return Object(c["a"])("请输入手机号"),e.abrupt("return");case 9:if(""!==t.lotusAddressData.provinceName){e.next=12;break}return Object(c["a"])("请选择地址"),e.abrupt("return");case 12:if(""!==t.detailsAddress){e.next=15;break}return Object(c["a"])("请选择详细地址"),e.abrupt("return");case 15:return i={},d="",this.addressDio?(d="/api/v1/Address/Edit",i={AddressId:this.addressId||"",Receiver:t.name||"",Mobile:t.phone||"",Province:t.lotusAddressData.provinceName||"",City:t.lotusAddressData.cityName||"",County:t.lotusAddressData.townName||"",Detail:t.detailsAddress||"",Tag:t.defaultAddressTitle||"",IsDefault:t.defaultAddressRadio||!1}):(d="/api/v1/Address/Add",i={Receiver:t.name||"",Mobile:t.phone||"",Province:t.lotusAddressData.provinceName||"",City:t.lotusAddressData.cityName||"",County:t.lotusAddressData.townName||"",Detail:t.detailsAddress||"",Tag:t.defaultAddressTitle||"",IsDefault:t.defaultAddressRadio||!1}),e.next=20,t.$http.post(d,i,{custom:{url:"99",nonce:Object(u["a"])(),timestamp:Object(u["b"])(),loading:"加载"}});case 20:n=e.sent,r=n.data,1===r.code&&(Object(c["a"])("添加成功"),this.$router.go(-1));case 23:case"end":return e.stop()}}),e,this)}))),1e3)}},p=v,m=(s("5a3f"),s("2877")),f=Object(m["a"])(p,a,i,!1,null,"20459366",null);t["default"]=f.exports}}]);
//# sourceMappingURL=address.384a7878.js.map