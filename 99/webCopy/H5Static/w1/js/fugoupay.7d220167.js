(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["fugoupay"],{"0cb2":function(e,t,r){var a=r("7b0b"),i=Math.floor,n="".replace,c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,o,u,d){var l=r+e.length,p=o.length,f=s;return void 0!==u&&(u=a(u),f=c),n.call(d,f,(function(a,n){var c;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(l);case"<":c=u[n.slice(1,-1)];break;default:var s=+n;if(0===s)return a;if(s>p){var d=i(s/10);return 0===d?a:d<=p?void 0===o[d-1]?n.charAt(1):o[d-1]+n.charAt(1):a}c=o[s-1]}return void 0===c?"":c}))}},5319:function(e,t,r){"use strict";var a=r("d784"),i=r("d039"),n=r("825a"),c=r("50c4"),s=r("a691"),o=r("1d80"),u=r("8aa5"),d=r("0cb2"),l=r("14c3"),p=r("b622"),f=p("replace"),h=Math.max,m=Math.min,v=function(e){return void 0===e?e:String(e)},y=function(){return"$0"==="a".replace(/./,"$0")}(),g=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),b=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));a("replace",(function(e,t,r){var a=g?"$":"$0";return[function(e,r){var a=o(this),i=void 0==e?void 0:e[f];return void 0!==i?i.call(e,a,r):t.call(String(a),e,r)},function(e,i){if("string"===typeof i&&-1===i.indexOf(a)&&-1===i.indexOf("$<")){var o=r(t,this,e,i);if(o.done)return o.value}var p=n(this),f=String(e),y="function"===typeof i;y||(i=String(i));var g=p.global;if(g){var b=p.unicode;p.lastIndex=0}var x=[];while(1){var w=l(p,f);if(null===w)break;if(x.push(w),!g)break;var C=String(w[0]);""===C&&(p.lastIndex=u(f,c(p.lastIndex),b))}for(var I="",O=0,j=0;j<x.length;j++){w=x[j];for(var k=String(w[0]),_=h(m(s(w.index),f.length),0),S=[],P=1;P<w.length;P++)S.push(v(w[P]));var T=w.groups;if(y){var $=[k].concat(S,_,f);void 0!==T&&$.push(T);var F=String(i.apply(void 0,$))}else F=d(k,f,_,S,T,i);_>=O&&(I+=f.slice(O,_)+F,O=_+k.length)}return I+f.slice(O)}]}),!b||!y||g)},"95d2":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"goPayBox"},[r("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":".625rem","align-items":"center"}},[r("span",{staticStyle:{color:"red","font-size":".875rem"}},[e._v("剩余时间")]),r("span",{staticStyle:{color:"red"}},[e._v(e._s(e.hr)+":"+e._s(e.min)+":"+e._s(e.sec))])]),r("div",{staticStyle:{"font-size":"3.125rem","text-align":"center","margin-top":"4.6875rem",height:"4.375rem",background:"#FFFFFF"}},[e._v(" ￥ "+e._s(e.shifu)+" ")]),r("div",{staticStyle:{padding:".9375rem",background:"#FFFFFF","margin-top":".625rem"}},[r("div",{staticStyle:{"margin-bottom":"1.875rem"}},[e._v(" 选择支付方式 ")]),r("div",{staticStyle:{position:"relative","border-bottom":".0625rem solid #CCCCCC",padding:".625rem 0",display:"flex","justify-content":"space-between","align-items":"center"},on:{click:function(t){return e.checkedPay(1)}}},[r("div",{},[r("img",{staticStyle:{width:"1rem","vertical-align":"middle","margin-right":".625rem"},attrs:{src:"http://static.jiujiupingou.com/Static/img/bg23.png",mode:"widthFix"}}),e._v(" 支付宝 "),r("span",{staticClass:"discount"},[e._v("本单立减"+e._s(e.discount)+"元")])]),e.zhifubaoBl?r("div",{},[r("label",{staticClass:"radio",class:{active:1==e.payType}})]):e._e()]),r("div",{staticStyle:{position:"relative","border-bottom":"1px solid #CCCCCC",padding:"10px 0",display:"flex","justify-content":"space-between","align-items":"center"},on:{click:function(t){return e.checkedPay(2)}}},[r("div",{},[r("img",{staticStyle:{width:"1rem","vertical-align":"middle","margin-right":"10px"},attrs:{src:e.imgSrc("ic_ysf.png"),mode:"widthFix"}}),e._v(" 银联/云闪付 "),r("text",{staticClass:"discount"},[e._v("本单最高减免"+e._s(e.discount)+"元")])]),e.zhifubaoBl?r("div",{},[r("div",{staticClass:"radio",class:{active:2==e.payType}})]):e._e()]),r("div",{staticStyle:{position:"relative","border-bottom":"1px solid #CCCCCC",padding:"10px 0",display:"flex","justify-content":"space-between","align-items":"center"},on:{click:function(t){return e.checkedPay(3)}}},[r("div",{},[r("img",{staticStyle:{width:"1rem","vertical-align":"middle","margin-right":"10px"},attrs:{src:e.imgSrc("pay_ic_wx.png"),mode:"widthFix"}}),e._v(" 微信支付 "),r("text",{staticClass:"discount"},[e._v("本单最高减免"+e._s(e.discount)+"元")])]),e.zhifubaoBl?r("div",{},[r("div",{staticClass:"radio",class:{active:3==e.payType}})]):e._e()])]),r("div",{staticClass:"sbm1",on:{click:e.querenzhifu}},[e._v(" "+e._s(e.timeCode)+" "+e._s(e.textCode)+" ")])])},i=[],n=r("1da1"),c=(r("ac1f"),r("5319"),r("a9e3"),r("99af"),r("96cf"),r("da71")),s=r("c97a"),o=r("d399"),u={data:function(){return{yueBl:!0,zhifubaoBl:!0,userInfo:{},orderId:"",shifu:0,urlZhifu:"",hour:0,reset:!1,createTime:"",hr:"",min:"",sec:"",aliPay:null,isiOS:null,isAndroid:null,timeCode:"",textCode:"确认支付",disabledCode:!1,discount:0,payType:1,unionPay:null,wxMiniPay:null}},computed:{imgSrc:function(){return function(e){return c["d"]+e}}},created:function(){var e=this.$route.query;this.discount=e.discount,this.getUserInfo(),this.orderId=e.orderId,this.shifu=e.shifu,this.createTime=e.createTime,this.countdown(this.createTime,60),this.getMyDiscount()},methods:{checkedPay:function(e){this.payType=e,1!==this.payType||this.aliPay?2!==this.payType||this.unionPay?3!==this.payType||this.wxMiniPay||Object(o["a"])("微信支付通道升级维护中"):Object(o["a"])("云闪付通道升级维护中"):Object(o["a"])("支付宝通道升级维护中")},getMyDiscount:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/api/v1/MyOrder/GetMyDiscount",{},{custom:{url:"99",nonce:Object(s["a"])(),timestamp:Object(s["b"])()}});case 2:r=t.sent,r&&(a=r.data,1===a.code&&(e.discount=a.data));case 4:case"end":return t.stop()}}),t)})))()},countdown:function(e,t){var r=this,a=e.replace(/-/g,"/"),i=new Date(a),n=Number(t),c=i.setMinutes(i.getMinutes()+n),s=(new Date).getTime(),o=c-s;if(o>0){var u=parseInt(o/1e3/60/60%24),d=parseInt(o/1e3/60%60),l=parseInt(o/1e3%60);u=u>9?u:"0"+u,d=d>9?d:"0"+d,l=l>9?l:"0"+l,r.hr=u,r.min=d,r.sec=l}else clearInterval(p);var p=setTimeout((function(){r.countdown(r.createTime,60)}),1e3)},getAliPay:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/api/v1/MyOrder/GetPayChannelStatus",{},{custom:{url:"99",nonce:Object(s["a"])(),timestamp:Object(s["b"])()}});case 2:r=t.sent,a=r.data,1===a.code?(e.aliPay=a.data.aliPay,e.unionPay=a.data.unionPay,e.wxMiniPay=a.data.wxMiniPay):Object(o["a"])(a.msg);case 5:case"end":return t.stop()}}),t)})))()},getUserInfo:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/api/v1/UserInfo/Get",{type:1},{custom:{url:"99",nonce:Object(s["a"])(),timestamp:Object(s["b"])()}});case 2:r=t.sent,a=r.data,1===a.code&&(e.userInfo=a.data);case 5:case"end":return t.stop()}}),t)})))()},setInterValFunc:function(){var e=this;this.timeCode=30,this.textCode="秒",this.setTime=setInterval((function(){e.timeCode-1==0?(e.timeCode="",e.textCode="确认支付",e.disabledCode=!1,clearInterval(e.setTime)):e.timeCode--}),1e3)},querenzhifu:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,i,n,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e,1!=r.payType){t.next=5;break}if(r.aliPay){t.next=5;break}return Object(o["a"])("支付宝通道升级维护中"),t.abrupt("return");case 5:if(2!==e.payType){t.next=9;break}if(e.unionPay){t.next=9;break}return Object(o["a"])("云闪付通道升级维护中"),t.abrupt("return");case 9:if(3!==e.payType){t.next=13;break}if(e.wxMiniPay){t.next=13;break}return Object(o["a"])("微信支付通道升级维护中"),t.abrupt("return");case 13:if(3!==e.payType){t.next=16;break}return e.$router.push({name:"cashing",params:{urlZhifu:"".concat(c["c"],"/WxPay/Index?orderId=").concat(e.orderId),orderId:e.orderId,typeBuy:"wx"}}),t.abrupt("return",!1);case 16:if(!e.disabledCode){t.next=19;break}return Object(o["a"])("请30秒后重试"),t.abrupt("return");case 19:return e.disabledCode=!0,e.setInterValFunc(),o["a"].loading({duration:0,message:"加载中...",forbidClick:!0}),t.next=24,e.$http.post("/api/v1/MyOrder/AppPayV2",{orderId:e.orderId,method:e.payType},{custom:{url:"99",nonce:Object(s["a"])(),timestamp:Object(s["b"])(),codePay:"支付"}});case 24:a=t.sent,o["a"].clear(),i=a.data,0===i.code?(n=navigator.userAgent,u=new MobileDetect(n),d=u.os(),"AndroidOS"==d||"iOS"==d?(e.urlZhifu=i.data,2===e.payType?e.$router.push({name:"cashing",params:{urlZhifu:i.data,orderId:e.orderId}}):e.$router.push({name:"iframeZhifu",params:{urlZhifu:i.data,orderId:e.orderId}})):e.$router.push("/confirmOrder/orderQrcode?orderId="+e.orderId+"&url="+i.data)):Object(o["a"])(i.msg);case 28:case"end":return t.stop()}}),t)})))()}}},d=u,l=(r("d6fc"),r("2877")),p=Object(l["a"])(d,a,i,!1,null,"3036548f",null);t["default"]=p.exports},d6fc:function(e,t,r){"use strict";r("de33")},de33:function(e,t,r){}}]);
//# sourceMappingURL=fugoupay.7d220167.js.map