(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["againPsd"],{c383:function(s,e,t){},d28e:function(s,e,t){"use strict";t("c383")},f405:function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"edit"},[t("div",{staticClass:"edit-1"},[s._v("设置支付密码")]),t("div",{staticClass:"edit-2"},[s._v(s._s(s.title))]),t("div",{staticClass:"list"},[t("div",{staticClass:"item",class:{active:""==s.pasw}},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.pasw,expression:"pasw"}],attrs:{autofocus:s.paswFocus,type:"text",maxlength:"6",pattern:"[0-9]*"},domProps:{value:s.pasw},on:{input:[function(e){e.target.composing||(s.pasw=e.target.value)},s.setPasw]}}),s.pasw&&s.pasw.length>=1?t("div",{staticClass:"dian"}):s._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:s.shuKey,expression:"shuKey"}],staticClass:"shu"})]),s._l(5,(function(e){return t("div",{key:e,staticClass:"item",class:{active:s.pasw.length==e}},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.pasw,expression:"pasw"}],attrs:{type:"text",maxlength:"6",pattern:"[0-9]*"},domProps:{value:s.pasw},on:{input:[function(e){e.target.composing||(s.pasw=e.target.value)},s.setPasw]}}),s.pasw&&s.pasw.length>=e+1?t("div",{staticClass:"dian"}):s._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:s.shuKey,expression:"shuKey"}],staticClass:"shu"})])}))],2),s.saveKey?t("div",{staticClass:"btn",on:{click:s.save}},[s._v("下一步")]):s._e()])},i=[],n=t("1da1"),o=(t("96cf"),t("d399")),r=t("c97a"),p={data:function(){return{pasw:"",againPsd:"",ajax:!0,title:"设置6位数字支付密码",type:"",saveKey:!1,paswFocus:!0,shuKey:!0}},created:function(){var s=this,e=this.$route.query;this.type=e.type,this.outpassword=e.outpassword,this.smsCode=e.smsCode,setInterval((function(){s.shuKey=!s.shuKey}),500)},methods:{setPasw:function(){var s=this;6==this.pasw.length&&(this.againPsd?this.ajax?(this.ajax=!1,this.saveKey=!0):this.saveKey=!1:(this.title="再次输入支付密码",setTimeout((function(){s.againPsd=s.pasw,s.pasw=""}),500)))},save:function(){var s=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o["a"].loading({duration:0,message:"加载中...",forbidClick:!0}),"pasd"!==s.type&&"old"!==s.type){e.next=11;break}return a="","pasd"===s.type?a="/api/v1/UserInfo/ModifyOldTradePassword":"old"===s.type&&(a="/api/v1/UserInfo/SetTradePasswordForLoginPassword"),i=s.pasw,s.pasw=null,e.next=8,s.$http.post(a,{outpassword:s.outpassword,password:i,rpassword:s.againPsd},{custom:{url:"99",nonce:Object(r["a"])(),timestamp:Object(r["b"])()}});case 8:t=e.sent,e.next=14;break;case 11:return e.next=13,s.$http.post("/api/v1/UserInfo/ModifyTradePassword",{smsCode:s.smsCode,password:s.pasw,rpassword:s.againPsd},{custom:{url:"99",nonce:Object(r["a"])(),timestamp:Object(r["b"])()}});case 13:t=e.sent;case 14:s.buyKey=!1,s.ajax=!0,t?(n=t.data,1===n.code?(Object(o["a"])("成功设置密码"),setTimeout((function(){s.$router.push({path:"/home/user",replace:!0})}),1e3)):(s.againPsd="",s.title="设置6位数字支付密码",s.saveKey=!1)):(s.againPsd="",s.title="设置6位数字支付密码",s.saveKey=!1);case 17:case"end":return e.stop()}}),e)})))()}}},d=p,c=(t("d28e"),t("2877")),u=Object(c["a"])(d,a,i,!1,null,"60aa56b9",null);e["default"]=u.exports}}]);
//# sourceMappingURL=againPsd.1101808b.js.map