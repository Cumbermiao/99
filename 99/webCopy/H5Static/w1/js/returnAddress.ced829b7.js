(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["returnAddress"],{"6ad9":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container999"},[s("div",{staticClass:"line"},[s("div",{staticClass:"lineLeft"},[e._v("收件人")]),s("div",{staticClass:"lineRight"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input",attrs:{"placeholder-class":"plaClass",placeholder:"请输入姓名"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),s("div",{staticClass:"line"},[s("div",{staticClass:"lineLeft"},[e._v("手机号码")]),s("div",{staticClass:"lineRight"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"input",attrs:{type:"number","placeholder-class":"plaClass",placeholder:"请输入手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})])]),s("div",{staticClass:"line"},[s("div",{staticClass:"lineLeft"},[e._v("地址")]),s("div",{staticClass:"lineRight"},[""===e.lotusAddressData.provinceName?s("div",{staticStyle:{color:"#dbdbdb",width:"100%"},on:{click:e.openPicker}},[e._v(" 请选择地址 ")]):s("div",{on:{click:e.openPicker}},[e._v(" "+e._s(e.lotusAddressData.provinceName)+", "+e._s(e.lotusAddressData.cityName)+", "+e._s(e.lotusAddressData.townName)+" ")]),s("lotus-address",{attrs:{lotusAddressData:e.lotusAddressData},on:{choseVal:e.choseValue}}),s("div",{staticClass:"tips tri",on:{click:e.openPicker}})],1)]),s("div",{staticClass:"line"},[s("div",{staticClass:"lineLeft"},[e._v("详细地址")]),s("div",{staticClass:"lineRight"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.detailsAddress,expression:"detailsAddress"}],staticClass:"input",attrs:{maxlength:"64","data-name":"remarks","placeholder-class":"plaClass",placeholder:"请输入详细地址"},domProps:{value:e.detailsAddress},on:{input:[function(t){t.target.composing||(e.detailsAddress=t.target.value)},e.change]}})]),s("div",{staticClass:"lineLeft",staticStyle:{color:"#EEEEEE"}},[e._v(" "+e._s(e.inputNumberAddasd)+"/64 ")])]),s("div",{staticClass:"line"},[s("div",{staticClass:"lineLeft"},[e._v("标签")]),e._l(e.defaultAddress,(function(t,a){return s("div",{key:a,staticClass:"lineRight",on:{click:function(s){return e.checkedItem(a,t)}}},[s("div",{class:{active:a==e.isActive},attrs:{id:"myStyle"}},[e._v(" "+e._s(t)+" ")])])}))],2),s("div",{staticClass:"line"},[s("div",{staticClass:"lineLeft",staticStyle:{width:"30%"}},[e._v("设置为默认地址")]),s("div",{staticClass:"lineRight",class:e.defaultAddressRadio?"activeAddress":"",on:{click:e.defaultAddressRadioClick}})]),s("div",{staticClass:"buttonBox",on:{click:e.submit}},[e._v(" 保存地址 ")])])},i=[],d=s("1da1"),r=(s("96cf"),s("b0c0"),s("99af"),s("0e0b")),n=s.n(r),l=s("fff8"),c=s("c97a"),o=s("d399"),u=s("43db"),p={components:{"lotus-address":l["a"]},data:function(){return{defaultAddress:["家","公司","学校","其他"],defaultAddressTitle:"",isActive:null,lotusAddressData:{visible:!1,provinceName:"",cityName:"",townName:""},inputNumberAddasd:0,detailsAddress:"",name:"",phone:"",defaultAddressRadio:!1,addressDio:!1,addressId:void 0,pid:"",OrderId:"",ProductId:"",pirceTitle:"",priceAreaId:""}},created:function(){var e=this.$route.query;this.OrderId=e.OrderId,this.pid=e.pid,this.pirceTitle=e.pirceTitle,this.priceAreaId=e.priceAreaId,e.id&&(this.addressDio=!0,this.addressId=e.id,this.getAddressEdit(e.id))},watch:{detailsAddress:function(e){this.inputNumberAddasd=e.length}},methods:{defaultAddressRadioClick:function(){this.defaultAddressRadio?this.defaultAddressRadio=!1:this.defaultAddressRadio=!0},checkedItem:function(e,t){this.isActive=e,this.defaultAddressTitle=t},change:function(){this.inputNumberAddasd=this.detailsAddress.length},getAddressEdit:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,i,d,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a="/api/v1/Address/Get",s.next=3,t.$http.post(a,{id:e},{custom:{url:"99",nonce:Object(c["a"])(),timestamp:Object(c["b"])(),loading:"加载"}});case 3:if(i=s.sent,d=i.data,1===d.code)for(o["a"].clear(),t.name=d.data.Receiver,t.phone=d.data.Mobile,t.lotusAddressData.provinceName=d.data.Province,t.lotusAddressData.cityName=d.data.City,t.lotusAddressData.townName=d.data.County,t.detailsAddress=d.data.Detail,t.defaultAddressRadio=d.data.IsDefault,t.defaultAddressTitle=d.data.Tag,r=0;r<t.defaultAddress.length;r++)d.data.Tag===t.defaultAddress[r]&&(t.isActive=r);case 6:case"end":return s.stop()}}),s)})))()},openPicker:function(){this.lotusAddressData.visible=!0,this.addressDio||(this.lotusAddressData.provinceName="",this.lotusAddressData.cityName="",this.lotusAddressData.townName="")},choseValue:function(e){this.lotusAddressData.visible=e.visible,e.isChose&&(this.lotusAddressData.provinceName=e.province,this.lotusAddressData.cityName=e.city,this.lotusAddressData.townName=e.town,this.region="".concat(e.province," ").concat(e.city," ").concat(e.town))},submit:n.a.throttle(Object(d["a"])(regeneratorRuntime.mark((function e(){var t,s,a,i,d,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,s=[{name:"phone",checkType:"phone",checkRule:"",errorMsg:"请输入正确的手机号"}],a=u.check({phone:t.phone},s),""!==t.name){e.next=6;break}return Object(o["a"])("请输入收件人姓名"),e.abrupt("return");case 6:if(a){e.next=9;break}return Object(o["a"])("请输入手机号"),e.abrupt("return");case 9:if(""!==t.lotusAddressData.provinceName){e.next=12;break}return Object(o["a"])("请选择地址"),e.abrupt("return");case 12:if(""!==t.detailsAddress){e.next=15;break}return Object(o["a"])("请选择详细地址"),e.abrupt("return");case 15:return i={},d="",this.addressDio?(d="/api/v1/Address/Edit",i={AddressId:this.addressId,Receiver:t.name,Mobile:t.phone,Province:t.lotusAddressData.provinceName,City:t.lotusAddressData.cityName,County:t.lotusAddressData.townName,Detail:t.detailsAddress,Tag:t.defaultAddressTitle,IsDefault:t.defaultAddressRadio}):(d="/api/v1/Address/Add",i={Receiver:t.name,Mobile:t.phone,Province:t.lotusAddressData.provinceName,City:t.lotusAddressData.cityName,County:t.lotusAddressData.townName,Detail:t.detailsAddress,Tag:t.defaultAddressTitle,IsDefault:t.defaultAddressRadio}),e.next=20,t.$http.post(d,i,{custom:{url:"99",nonce:Object(c["a"])(),timestamp:Object(c["b"])(),loading:"加载"}});case 20:r=e.sent,n=r.data,1===n.code&&(Object(o["a"])("添加成功"),this.$router.push("/groupworkdetails/returnXuanzedizhi?pid="+this.pid));case 23:case"end":return e.stop()}}),e,this)}))),1e3)}},v=p,h=(s("b9b3"),s("2877")),m=Object(h["a"])(v,a,i,!1,null,"0bd3e209",null);t["default"]=m.exports},b9b3:function(e,t,s){"use strict";s("eaca")},eaca:function(e,t,s){}}]);
//# sourceMappingURL=returnAddress.ced829b7.js.map