(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cashing"],{"26ad":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"iframe"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:"wx"===e.typeBuy,expression:"typeBuy === 'wx'"}]},[i("div",{staticStyle:{"text-align":"center","font-size":"32upx",color:"red","margin-top":"20px"}},[e._v(" 支付确认中"+e._s(e.zhifuqurenzhong)+" ")]),i("div",{staticStyle:{"margin-top":"20px","text-align":"center",display:"flex","justify-content":"center"}},[i("div",{staticStyle:{width:"218upx",height:"218upx"}},[i("div",{ref:"myQrcode"})])]),i("div",{staticStyle:{color:"red","text-align":"center","margin-top":"10px"}},[e._v(" 请截图到微信扫码支付 ")])])])},a=[],r=i("1da1"),o=(i("96cf"),i("c97a")),s=i("d044"),u=i.n(s),c=i("d399"),d={data:function(){return{orderId:null,zhifuqurenzhong:"",ishavepay:0,urlZhifu:"",AdvertiseId:"",advId:"",mchId:"",showKey:[],data1:"",token:"",typeBuy:""}},created:function(){var e=this.$route.params;"wx"===e.typeBuy?this.$store.commit("navTop/setTitle",{title:"微信支付"}):this.$store.commit("navTop/setTitle",{title:"银联/云闪付"}),this.typeBuy=e.typeBuy||"yun",this.token=e.token,this.orderId=e.orderId;var t=this;setTimeout((function(){t.ishavepay=1}),3e5),this.$nextTick((function(){if("yun"==t.typeBuy?t.urlZhifu=decodeURIComponent(e.urlZhifu):"wx"==t.typeBuy&&t.initQrCode(e.urlZhifu),0===t.ishavepay&&t.payload(),"yun"==t.typeBuy){var i=document.createElement("iframe");i.src=t.urlZhifu,i.style.border="unset",i.style.width="100vw",i.style.height="100vh",document.getElementById("iframe").appendChild(i),c["a"].loading({duration:6e3,message:"加载中..."})}}))},mounted:function(){window.closeVideo=this.closeVideo},destroyed:function(){this.ishavepay=1,c["a"].clear()},methods:{payload:function(){var e=this;switch(this.zhifuqurenzhong){case"":this.zhifuqurenzhong=".";break;case".":this.zhifuqurenzhong="..";break;case"..":this.zhifuqurenzhong="...";break;case"...":this.zhifuqurenzhong="";break;default:}this.havepay(),setTimeout((function(){0===e.ishavepay&&e.payload()}),3e3)},initQrCode:function(e){new u.a(this.$refs.myQrcode,{text:e,width:115,height:115,correctLevel:u.a.CorrectLevel.H})},havepay:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.ishavepay){t.next=6;break}return t.next=3,e.$http.post("/api/v1/MyOrder/GetOrderPayStatus",{orderId:e.orderId},{custom:{url:"99",nonce:Object(o["a"])(),timestamp:Object(o["b"])()}});case 3:i=t.sent,n=i.data,1===n.code&&(e.showKey.push(n.data),n.data&&(e.ishavepay=1,e.$router.push("/confirmOrder/wanPayment")));case 6:case"end":return t.stop()}}),t)})))()},cancelBtn:function(){this.$router.push("/home/index")}}},h=d,p=(i("ce52"),i("2877")),y=Object(p["a"])(h,n,a,!1,null,"3a91b362",null);t["default"]=y.exports},ce52:function(e,t,i){"use strict";i("ecde")},ecde:function(e,t,i){}}]);
//# sourceMappingURL=cashing.602fc993.js.map