(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["goplayPintuan"],{"3df4":function(t,e,a){},"466d":function(t,e,a){"use strict";var i=a("d784"),r=a("825a"),n=a("50c4"),c=a("1d80"),s=a("8aa5"),o=a("14c3");i("match",(function(t,e,a){return[function(e){var a=c(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,a):new RegExp(e)[t](String(a))},function(t){var i=a(e,this,t);if(i.done)return i.value;var c=r(this),d=String(t);if(!c.global)return o(c,d);var u=c.unicode;c.lastIndex=0;var l,p=[],h=0;while(null!==(l=o(c,d))){var f=String(l[0]);p[h]=f,""===f&&(c.lastIndex=s(d,n(c.lastIndex),u)),h++}return 0===h?null:p}]}))},"5c9c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"redio",class:{active:t.checked},style:t.divStyle},[a("i",{staticClass:"iconfont icondui"})])},r=[],n={props:{color:{type:String,default:"#000"},checked:{type:Boolean,default:!1}},computed:{divStyle:function(){return{color:this.color,border:"1px solid ".concat(this.checked?this.color:"#d1d1d1"),backgroundColor:this.checked?this.color:"#fff"}}}},c=n,s=(a("f7c7"),a("2877")),o=Object(s["a"])(c,i,r,!1,null,null,null);e["a"]=o.exports},"8d3e":function(t,e,a){"use strict";a("b2fe")},b2fe:function(t,e,a){},c9b3:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goPayBox"},[a("div",{staticClass:"bag",staticStyle:{"text-align":"center"}}),a("div",{staticStyle:{"font-size":"36px","text-align":"center",height:"70px",background:"#FFFFFF","line-height":"70px"}},[t._v(" ￥"+t._s(t.jiage)+" ")]),a("div",{staticStyle:{padding:"15px 15px 5px",background:"#FFFFFF","margin-top":"10px"}},[a("div",{},[t._v(" 选择支付方式 ")]),a("div",{staticClass:"pay-type-list"},[a("div",{staticClass:"type-item",staticStyle:{"border-bottom":"1px solid #CCCCCC"},on:{click:function(e){return t.changePayType(1)}}},[a("img",{staticStyle:{width:"16px","vertical-align":"middle","margin-right":"10px"},attrs:{src:"http://static.jiujiupingou.com/Static/img/bg23.png",mode:"widthFix"}}),a("div",{staticClass:"con"},[a("span",{staticClass:"tit"},[t._v("支付宝支付"),a("span",{staticClass:"discount"},[t._v("本单最高减免"+t._s(t.discount)+"元")])])]),a("label",{staticClass:"radio"},[a("radio",{attrs:{value:"",color:"#ffb609",checked:"1"==t.payType}})],1)]),a("div",{staticClass:"type-item",staticStyle:{"border-bottom":"1px solid #CCCCCC"},on:{click:function(e){return t.changePayType(2)}}},[a("img",{staticStyle:{width:"32upx","vertical-align":"middle","margin-right":"10px"},attrs:{src:t.imgSrc("ic_ysf.png"),mode:"widthFix"}}),a("div",{staticClass:"con"},[a("span",{staticClass:"tit"},[t._v("银联/云闪付"),a("span",{staticClass:"discount"},[t._v("本单最高减免"+t._s(t.discount)+"元")])])]),a("label",{staticClass:"radio"},[a("radio",{attrs:{value:"",color:"#ffb609",checked:"2"==t.payType}})],1)]),a("div",{staticClass:"type-item",on:{click:function(e){return t.changePayType(0)}}},[a("img",{staticStyle:{width:"16px","vertical-align":"middle","margin-right":"10px"},attrs:{src:"http://static.jiujiupingou.com/Static/img/bg21.png",mode:"widthFix"}}),a("div",{staticClass:"con"},[a("span",[t._v("可用余额 ¥"+t._s(t.userInfo.Balance))])]),a("label",{staticClass:"radio"},[a("radio",{attrs:{value:"",color:"#ffb609",checked:0==t.payType}})],1)])])]),a("div",{staticClass:"sbm1",on:{click:t.querenzhifu}},[t._v(" "+t._s(t.timeCode)+t._s(t.textCode)+" ")])])},r=[],n=a("1da1"),c=(a("ac1f"),a("466d"),a("96cf"),a("da71")),s=a("c97a"),o=a("5c9c"),d=a("d399"),u={components:{Radio:o["a"]},data:function(){return{yueBl:!0,zhifubaoBl:!1,userInfo:{},orderId:"",shifukuan:0,urlZhifu:"",jiage:0,AdvertiseId:"",textAn:"默认",payType:0,aliPay:null,timeCode:"",textCode:"确认支付",disabledCode:!1,PriceAreaId:"",discount:0,unionPay:null}},computed:{imgSrc:function(){return function(t){return c["d"]+t}}},created:function(){var t=this.$route.query;this.PriceAreaId=t.PriceAreaId,this.getUserInfo(),this.jiage=t.jiage,this.getAliPay(),this.getMyDiscount()},mounted:function(){window.closeVideo=this.closeVideo},methods:{getMyDiscount:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/api/v1/MyOrder/GetMyDiscount",{priceAreaId:t.PriceAreaId},{custom:{url:"99",nonce:Object(s["a"])(),timestamp:Object(s["b"])()}});case 2:a=e.sent,a&&(i=a.data,1===i.code&&(t.discount=i.data));case 4:case"end":return e.stop()}}),e)})))()},getUserInfo:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/api/v1/UserInfo/Get",{type:1},{custom:{url:"99",nonce:Object(s["a"])(),timestamp:Object(s["b"])()}});case 2:a=e.sent,i=a.data,1===i.code&&(t.userInfo=i.data);case 5:case"end":return e.stop()}}),e)})))()},getAliPay:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/api/v1/MyOrder/GetPayChannelStatus",{},{custom:{url:"99",nonce:Object(s["a"])(),timestamp:Object(s["b"])()}});case 2:a=e.sent,i=a.data,1===i.code?(t.aliPay=i.data.aliPay,t.unionPay=i.data.unionPay):Object(d["a"])(i.msg);case 5:case"end":return e.stop()}}),e)})))()},closeVideo:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("navTop/setBackKey",{setBackKey:!1}),d["a"].loading({duration:0,message:"正在处理观看记录",forbidClick:!0}),e.next=4,t.$http.post("/api/v1/AD/QueryShowAdvertise",{mchid:t.AdvertiseId},{custom:{url:"99",nonce:Object(s["a"])(),timestamp:Object(s["b"])()}});case 4:a=e.sent,t.$store.commit("navTop/setBackKey",{setBackKey:!0}),d["a"].clear(),i=a.data,1===i.code&&t.$router.push("/groupworkdetails/paysuccess");case 9:case"end":return e.stop()}}),e)})))()},changePayType:function(t){this.payType=t,1!==this.payType||0===this.aliPay?2!==this.payType||0===this.unionPay||Object(d["a"])("云闪付通道升级维护中"):Object(d["a"])("支付宝通道升级维护中")},setInterValFunc:function(){var t=this;this.timeCode=30,this.textCode="秒",this.setTime=setInterval((function(){t.timeCode-1==0?(t.timeCode="",t.textCode="确认支付",t.disabledCode=!1,clearInterval(t.setTime)):t.timeCode--}),1e3)},querenzhifu:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i,r,n,c,o,u,l,p,h,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1===t.payType){e.next=4;break}if(0===t.aliPay){e.next=4;break}return Object(d["a"])("支付宝通道升级维护中"),e.abrupt("return");case 4:if(2!==t.payType){e.next=8;break}if(0===t.unionPay){e.next=8;break}return Object(d["a"])("云闪付通道升级维护中"),e.abrupt("return");case 8:if(!t.disabledCode){e.next=11;break}return Object(d["a"])("请30秒后重试"),e.abrupt("return");case 11:return a=null,i={},a="/api/v1/MyOrder/ManyPGPayV2",i={custom:{url:"99",nonce:Object(s["a"])(),timestamp:Object(s["b"])()}},t.disabledCode=!0,t.setInterValFunc(),d["a"].loading({duration:0,message:"加载中...",forbidClick:!0}),e.next=20,t.$http.post(a,{priceAreaId:t.PriceAreaId,payType:t.payType},i);case 20:if(r=e.sent,n=r.data,0!==t.payType){e.next=39;break}if(1!==n.code){e.next=35;break}return e.next=26,t.$http.post("/api/v1/AD/Get",{},{custom:{url:"99",nonce:Object(s["a"])(),timestamp:Object(s["b"])()}});case 26:c=e.sent,o=c.data,1===o.code&&(t.AdvertiseId=o.data.mchId),d["a"].clear(),u=navigator.userAgent,l=!!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),l?window.webkit.messageHandlers.onItemClick.postMessage(JSON.stringify(o.data)):nuandouAndroid.onItemClick(JSON.stringify(o.data)),e.next=37;break;case 35:d["a"].clear(),Object(d["a"])(n.msg);case 37:e.next=40;break;case 39:1===n.code?(d["a"].clear(),p=navigator.userAgent,h=new MobileDetect(p),f=h.os(),"AndroidOS"==f||"iOS"==f?(t.urlZhifu=n.data.qrCode,2===t.payType?t.$router.push({name:"cashing",params:{urlZhifu:n.data.qrCode,orderId:n.data.orderId,type:"pintuan"}}):t.$router.push("/confirmOrder/iframeZhifu?urlZhifu="+n.data.qrCode+"&orderId="+n.data.orderId+"&type=pintuan")):t.$router.push("/confirmOrder/orderQrcode?orderId="+n.data.orderId+"&url="+n.data.qrCode+"&OrderNo="+n.data.OrderNo+"&type=pintuan")):(d["a"].clear(),Object(d["a"])(n.msg));case 40:case"end":return e.stop()}}),e)})))()}}},l=u,p=(a("8d3e"),a("2877")),h=Object(p["a"])(l,i,r,!1,null,null,null);e["default"]=h.exports},f7c7:function(t,e,a){"use strict";a("3df4")}}]);
//# sourceMappingURL=goplayPintuan.bd2ccc83.js.map